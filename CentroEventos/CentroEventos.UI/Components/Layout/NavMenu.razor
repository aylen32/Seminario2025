@using CentroEventos.Aplicacion.Servicio
@using CentroEventos.Aplicacion.Entidades
@using CentroEventos.Aplicacion.Enumerativos
@using System.Linq
@inject IServicioSesion Servicio
@inject IRepositorioUsuario RepositorioUsuario

<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/home">CentroEventos.UI</a>
    </div>
</div>

<input type="checkbox" title="Navigation menu" class="navbar-toggler" />

<div class="nav-scrollable" onclick="document.querySelector('.navbar-toggler').click()">
    <nav class="flex-column">
        <div class="nav-item px-3">
           <NavLink class="nav-link" href="/home" Match="NavLinkMatch.All">
    <span class="bi bi-house-door-fill-nav-menu" aria-hidden="true"></span> Home
</NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="ListadoPersonas">
            <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Listado de Personas
          </NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="AgregarPersona">
            <span class="bi bi-plus-square-fill-nav-menu" aria-hidden="true"></span> Agregar Persona
          </NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="ListadoReservas">
            <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Listado de Reservas
          </NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="AgregarReserva">
            <span class="bi bi-plus-square-fill-nav-menu" aria-hidden="true"></span> Agregar Reserva
          </NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="ListadoEventosDeportivos">
            <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Listado de Eventos Deportivos
          </NavLink>
        </div>

        <div class="nav-item px-3">
          <NavLink class="nav-link" href="AgregarEventoDeportivo">
            <span class="bi bi-plus-square-fill-nav-menu" aria-hidden="true"></span> Agregar Evento Deportivo
          </NavLink>
        </div>
 
        @if(@Servicio.UsuarioActual!=null){
           @if ((@Servicio.UsuarioActual.Permisos.Any(up=> up.Permiso?.Tipo==PermisoTipo.UsuarioModificacion))||  (@Servicio.UsuarioActual!.Permisos.Any(up => up.Permiso?.Tipo==PermisoTipo.UsuarioBaja))){
           <div class="nav-item px-3">
              <NavLink class="nav-link" href="ListadoUsuarios">
                <span class="bi bi-list-nested-nav-menu" aria-hidden="true"></span> Listado de Usuarios
              </NavLink>
           </div>
          }
       
        }
       

    </nav>
</div>

